<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 600" width="960" height="600">
<defs>
  <linearGradient id="bg" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#0b1220"/><stop offset="100%" stop-color="#0f1b2e"/></linearGradient>
  <pattern id="grid" width="24" height="24" patternUnits="userSpaceOnUse"><circle cx="12" cy="12" r=".5" fill="rgba(226,232,240,.06)"/></pattern>
  <clipPath id="vp"><rect width="960" height="600" rx="10"/></clipPath>
  <!-- Typewriter: $ haiphen -->
  <clipPath id="t1"><rect x="55" y="46" height="22" width="0"><animate attributeName="width" dur="20s" repeatCount="indefinite" values="0;0;130;130;0" keyTimes="0;.015;.06;.96;1"/></rect></clipPath>
  <!-- Typewriter: cmd1 (prospect solve) -->
  <clipPath id="t2"><rect x="55" y="234" height="22" width="0"><animate attributeName="width" dur="20s" repeatCount="indefinite" values="0;0;350;350;0" keyTimes="0;.22;.26;.96;1"/></rect></clipPath>
  <!-- Typewriter: # annotation -->
  <clipPath id="ta"><rect x="55" y="194" height="22" width="0"><animate attributeName="width" dur="20s" repeatCount="indefinite" values="0;0;395;395;0" keyTimes="0;.42;.50;.96;1"/></rect></clipPath>
  <!-- Typewriter: $ haiphen prospect investigation 7 -->
  <clipPath id="t3"><rect x="55" y="476" height="22" width="0"><animate attributeName="width" dur="20s" repeatCount="indefinite" values="0;0;285;285;0" keyTimes="0;.63;.665;.96;1"/></rect></clipPath>
</defs>
<style>
  .cam{animation:cam 20s ease-in-out infinite;transform-origin:0px 0px;transform-box:view-box}
  @keyframes cam{
    0%,16%{transform:translate(0,0) scale(1)}
    20%,36%{transform:translate(-96px,-120px) scale(1.2)}
    40%,56%{transform:translate(-96px,50px) scale(1.2)}
    60%,76%{transform:translate(-96px,-384px) scale(1.2)}
    80%,96%{transform:translate(-120px,-631px) scale(1.25)}
    100%{transform:translate(0,0) scale(1)}
  }
  @keyframes blink{0%,100%{opacity:1}50%{opacity:0}}
  .m{font-family:"SF Mono","Fira Code","Cascadia Code",monospace;font-size:14px}
  .m2{font-family:"SF Mono","Fira Code","Cascadia Code",monospace;font-size:12px}
  .mx{font-family:"SF Mono","Fira Code","Cascadia Code",monospace;font-size:28px}
  .c1{fill:#e2e8f0}.c2{fill:rgba(226,232,240,.45)}.cg{fill:#10B981}
  .cb{fill:#5A9BD4}.ca{fill:#F59E0B}.cr{fill:#EF4444}.cp{fill:#8B5CF6}
  .cur{animation:blink 1s step-end infinite}
</style>
<g clip-path="url(#vp)">
  <rect width="960" height="600" fill="url(#bg)"/>

  <g class="cam">
    <rect x="-600" y="-600" width="2200" height="2200" fill="url(#grid)"/>

    <!-- ═══ SCENE 1: Welcome (camera: full view) ═══ -->
    <g clip-path="url(#t1)">
      <text x="55" y="60" class="m cb">$ haiphen</text>
    </g>
    <rect class="cur" x="186" y="47" width="2" height="16" fill="#5A9BD4" fill-opacity="0">
      <animate attributeName="fill-opacity" dur="20s" repeatCount="indefinite" values="0;0;1;1;0;0" keyTimes="0;.06;.065;.16;.165;1"/>
    </rect>

    <g opacity="0">
      <animate attributeName="opacity" dur="20s" repeatCount="indefinite" values="0;0;1;1;0" keyTimes="0;.07;.08;.96;1"/>
      <text x="55" y="92" class="m c1">Welcome to Haiphen</text>
      <text x="55" y="114" class="m cp">Signals Intelligence &amp; Trading Infrastructure</text>
      <text x="55" y="148" class="m c2">Analysis tooling for the software industry.</text>
      <text x="55" y="168" class="m c2">Let's resolve the gaps.</text>
    </g>

    <!-- ═══ ANNOTATION (typed during scene 3 up-pan) ═══ -->
    <g clip-path="url(#ta)">
      <text x="55" y="208" class="m ca"># All 4 requirements resolved automatically.</text>
    </g>
    <rect class="cur" x="451" y="195" width="2" height="16" fill="#F59E0B" fill-opacity="0">
      <animate attributeName="fill-opacity" dur="20s" repeatCount="indefinite" values="0;0;1;1;0;0" keyTimes="0;.50;.505;.56;.565;1"/>
    </rect>

    <!-- ═══ SCENE 2: Solve (camera: zooms down to output) ═══ -->
    <g clip-path="url(#t2)">
      <text x="55" y="248" class="m cb">$ haiphen prospect solve --investigation 7</text>
    </g>
    <rect class="cur" x="406" y="235" width="2" height="16" fill="#5A9BD4" fill-opacity="0">
      <animate attributeName="fill-opacity" dur="20s" repeatCount="indefinite" values="0;0;1;1;0;0" keyTimes="0;.26;.265;.36;.365;1"/>
    </rect>

    <g opacity="0">
      <animate attributeName="opacity" dur="20s" repeatCount="indefinite" values="0;0;1;1;0" keyTimes="0;.28;.285;.96;1"/>
      <text x="55" y="280" class="m ca">Solving requirements for investigation #7...</text>
      <text x="55" y="310" class="m c2">REQ   TYPE              ACTION          STATUS</text>
      <text x="55" y="328" class="m c2">-------------------------------------------</text>
      <text x="55" y="350" class="m c1">1     data_gap          add keywords    <tspan class="cg">RESOLVED</tspan></text>
      <text x="55" y="370" class="m c1">2     capability_gap    flag review     <tspan class="cg">RESOLVED</tspan></text>
      <text x="55" y="390" class="m c1">3     monitor_needed    add regression  <tspan class="cg">RESOLVED</tspan></text>
      <text x="55" y="410" class="m c1">4     integration       add Shodan qry  <tspan class="cg">RESOLVED</tspan></text>
      <text x="55" y="452" class="m cg">4/4 requirements resolved.</text>
    </g>

    <!-- ═══ SCENE 4: Investigation (camera: zooms down to output) ═══ -->
    <g clip-path="url(#t3)">
      <text x="55" y="490" class="m cb">$ haiphen prospect investigation 7</text>
    </g>
    <rect class="cur" x="341" y="477" width="2" height="16" fill="#5A9BD4" fill-opacity="0">
      <animate attributeName="fill-opacity" dur="20s" repeatCount="indefinite" values="0;0;1;1;0;0" keyTimes="0;.665;.67;.76;.765;1"/>
    </rect>

    <g opacity="0">
      <animate attributeName="opacity" dur="20s" repeatCount="indefinite" values="0;0;1;1;0" keyTimes="0;.68;.685;.96;1"/>
      <text x="55" y="522" class="m c1">INVESTIGATION #7 (updated):</text>
      <text x="55" y="544" class="m c2">  lead:        #42 (FinServ Corp)</text>
      <text x="55" y="564" class="m c2">  status:      solved</text>
      <text x="55" y="584" class="m c2">  aggregate:   76.4</text>
      <text x="55" y="604" class="m c2">  resolved:    4/4 requirements</text>
      <text x="55" y="624" class="m c2">  next step:   re-investigate</text>
      <text x="55" y="650" class="m cg">Ready to confirm improvement.</text>
    </g>

    <!-- ═══ SCENE 5: Endcard ═══ -->
    <g opacity="0">
      <animate attributeName="opacity" dur="20s" repeatCount="indefinite" values="0;0;1;1;0" keyTimes="0;.84;.85;.96;1"/>
      <text x="480" y="710" text-anchor="middle" class="mx cb" letter-spacing="12">HAIPHEN</text>
      <text x="480" y="750" text-anchor="middle" class="m cp">API Everything</text>
      <text x="480" y="780" text-anchor="middle" class="m2 c2">haiphen.io</text>
    </g>
  </g>

  <!-- Fixed terminal chrome -->
  <rect x="0" y="0" width="960" height="46" fill="#0b1220"/>
  <rect x="20" y="12" width="920" height="30" rx="8" fill="rgba(255,255,255,.06)"/>
  <circle cx="40" cy="27" r="5" fill="#EF4444" opacity=".8"/>
  <circle cx="56" cy="27" r="5" fill="#F59E0B" opacity=".8"/>
  <circle cx="72" cy="27" r="5" fill="#10B981" opacity=".8"/>
  <text x="480" y="31" text-anchor="middle" class="m2 c2">Chapter 4: Resolution</text>
</g>
</svg>
