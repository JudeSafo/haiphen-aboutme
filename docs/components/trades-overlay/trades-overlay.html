<!-- docs/components/trades-overlay/trades-overlay.html -->
<div class="haiphen-overlay" role="dialog" aria-modal="true" aria-label="KPI detail" aria-hidden="true">
  <div class="haiphen-overlay__backdrop" data-close="1"></div>

  <!-- backdrop image (set dynamically) -->
  <div class="haiphen-overlay__bg" aria-hidden="true"></div>

  <div class="haiphen-overlay__panel" role="document">
    <header class="haiphen-overlay__header">
      <div class="haiphen-overlay__titles">
        <div class="haiphen-overlay__kicker">Live synthetic preview</div>
        <h3 class="haiphen-overlay__title" id="haiphen-overlay-title">Metric</h3>
        <div class="haiphen-overlay__subtitle" id="haiphen-overlay-subtitle">
          Random series • interactive controls • replace with entity JSON later
        </div>
      </div>

      <button class="haiphen-overlay__close" type="button" aria-label="Close" title="Close (Esc)">
        ×
      </button>
    </header>

    <section class="haiphen-overlay__body">
      <div class="haiphen-overlay__chartWrap">
        <canvas id="haiphen-overlay-chart" class="haiphen-overlay__canvas" width="900" height="420"></canvas>

        <div class="haiphen-overlay__stats" aria-label="Quick stats">
          <div class="haiphen-overlay__stat">
            <div class="k">Last</div>
            <div class="v" id="haiphen-stat-last">—</div>
          </div>
          <div class="haiphen-overlay__stat">
            <div class="k">Min</div>
            <div class="v" id="haiphen-stat-min">—</div>
          </div>
          <div class="haiphen-overlay__stat">
            <div class="k">Max</div>
            <div class="v" id="haiphen-stat-max">—</div>
          </div>
          <div class="haiphen-overlay__stat">
            <div class="k">Δ</div>
            <div class="v" id="haiphen-stat-delta">—</div>
          </div>
        </div>
      </div>

      <!-- Add inside .haiphen-overlay__body, under the chartWrap (or after it) -->

      <div class="haiphen-overlay__entityRow">
        <div class="haiphen-overlay__badge" id="haiphen-overlay-badge">synthetic</div>
        <div class="haiphen-overlay__meta" id="haiphen-overlay-meta">—</div>
      </div>

      <!-- Portfolio mode -->
      <div class="haiphen-overlay__portfolio" id="haiphen-portfolio" hidden>
        <label for="haiphen-portfolio-select">Portfolio assets</label>
        <select id="haiphen-portfolio-select"></select>
        <div class="haiphen-overlay__portfolioMeta" id="haiphen-portfolio-meta"></div>
      </div>

      <!-- Extremes (hi/lo contracts) -->
      <div class="haiphen-overlay__extremes" id="haiphen-extremes" hidden></div>
      <aside class="haiphen-overlay__controls" aria-label="Controls">
        <div class="haiphen-overlay__control">
          <label for="haiphen-chart-type">Chart</label>
          <select id="haiphen-chart-type">
            <option value="line" selected>Line</option>
            <option value="area">Area</option>
            <option value="bars">Bars</option>
          </select>
        </div>

        <div class="haiphen-overlay__control">
          <label for="haiphen-points">Points <span id="haiphen-points-label" class="pill">96</span></label>
          <input id="haiphen-points" type="range" min="24" max="240" step="12" value="96" />
        </div>

        <div class="haiphen-overlay__control">
          <label for="haiphen-vol">Volatility <span id="haiphen-vol-label" class="pill">0.65</span></label>
          <input id="haiphen-vol" type="range" min="0.10" max="2.00" step="0.05" value="0.65" />
        </div>

        <div class="haiphen-overlay__control">
          <label class="haiphen-overlay__checkbox">
            <input id="haiphen-smooth" type="checkbox" checked />
            <span>Smoothed</span>
          </label>
        </div>

        <div class="haiphen-overlay__buttons">
          <button id="haiphen-regenerate" class="btn btn-primary" type="button">Regenerate</button>
          <button id="haiphen-export" class="btn btn-ghost" type="button">Export PNG</button>
        </div>

        <div class="haiphen-overlay__note">
          Disclaimer: Not a financial adviser, use discretion for personal finances.
        </div>
      </aside>
    </section>
  </div>
</div>